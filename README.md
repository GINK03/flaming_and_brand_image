# bertで知る炎上とブランドイメージの関係

## イントロダクション
近年のSNSでの炎上は企業にとって大きなリスクとして認識されています。炎上してしまうと、企業はその対応に追われ、多大な労力を払うことになります。また、企業のブランドイメージの既存があると一般的に認識されているようです。  
2020年は企業・国務に関連した多くの不祥事がありました。不祥事が起こるたびにその対策は行われてきましたが、炎上自体が引き起こす、ブランドイメージの低下等は定量化されていないようです。  
今回、twitterのデータと機械学習のbertと呼ばれるアルゴリズムを用いることで、炎上した企業・商品・公人がどのような影響を受けたかを定量化し、曖昧であった炎上のリスクを可視化したいと思います。  

## 類似した研究等
 - [クチコミによるネット炎上の定量化の試みとその検証](https://www.jstage.jst.go.jp/article/proceedingsissj/12/0/12_c22/_pdf/-char/ja)
 - [ネット炎上の実態と政策的対応の考察](https://www.soumu.go.jp/iicp/chousakenkyu/data/research/icp_review/11/11-4yamaguchi2015.pdf)

## どのように定量化したか
**データの取得**  
twitterのデータは[twint](https://github.com/twintproject/twint)と呼ばれるapi likeに使えるプログラムを用いて取得しました。  
全て取得すると非常に時間がかかるので、一日あたり1000件に限定して取得を行いました。  

twintの使い方を私のgithub.ioでまとめているので必要に応じて参照してください。  
 - [twintの使い方](https://gink03.github.io/twint/)

**分析対象の選定**  
2019 ~ 2020年度の炎上のまとめサイトを見ながら、対象とするキーワードを選択しました。  

*選択したキーワード*
 - 東京五輪
 - けものフレンズ
 - ドコモ口座問題(ドコモ、ドコモ口座、ゆうちょ銀行)
 - テラスハウス
 - くら寿司
 - 電通
 - 各政党(自民党、公明党、立憲、共産党、国民民主)
 - 各コンビニ(セブンイレブン, ファミマ, ローソン, ミニストップ, セイコーマート)


**ブランドイメージを定量化する機械学習**  
twitterに出現するような表現に対して柔軟かつ精度良く、そのツイートが良い感情をもって表現されたかネガティブな感情をもって表現されたかを推論するアルゴリズムに、`bert`と呼ばれるアルゴリズムを用いました。  
`bert`の`pretrained model`にtweetを入力すると、`0.0 ~ 1.0`のスコアが得られます。`0.5以下`だと`ネガティブ`, `0.5以上`だと`ポジティブ`と認識されます。  
このスコアを利用して、あるキーワードに対する一日あたりの平均のスコアを算出することが可能になります。平均したスコアを28日(4週間)の移動平均をとり、乱雑さを軽減しました。  
`x軸`は`日付`, `y軸`は`平均スコア`が表示されることになり、炎上を経験した企業・商品・公人のイメージを追跡することが可能になります。  

実際にこのモデルにてプリキュアを分類した結果を確認すると以下のようになり、期待した動作が得られました。
<div align="center">
  <img width="300" alt="スクリーンショット 2021-02-06 12 40 17" src="https://user-images.githubusercontent.com/4949982/107108046-9af45480-6878-11eb-925b-77786212da95.png">
 <img float="left" width="300" alt="スクリーンショット 2021-02-06 12 40 34" src="https://user-images.githubusercontent.com/4949982/107108047-9def4500-6878-11eb-98c6-0f0ebcf1937a.png">
</div>
<p align="center">左:ポジティブな検出例, 右: ネガティブな検出例</p>

具体的な機械学習でのセンチメント分析の方法はこちらを御覧ください
 - [huggingfaceで日本語をハンドリングする](https://gink03.github.io/huggingface_japanese/)

**統計を正確にするためのヒューリスティクス**  
twitterのデータを扱う際には気をつけるべきポイントが幾つかあります。ポイント等のインセンティブを狙った機械的な投稿や、偏執的に同一の話題に対して何度も発言する人などのバイアスを外す必要があります。

そこで以下のようなルールを入れました。  
 - ある人が一日に特定の話題について複数回話していても、採用するのは一つ
 - `http`等URLを記入した投稿は採用しない
 
## 結果
**東京五輪**
<div align="center">
 <img width="700px" src="https://user-images.githubusercontent.com/4949982/107116773-e890b180-68b8-11eb-84f2-f4fd0a07fef9.png">
</div>

大規模なネガティブなイベントを捉えることに成功しています
 - [新国立競技場問題](https://www.nippon.com/ja/currents/d00188/)、[エンブレム盗作疑惑](https://www.bbc.com/japanese/34125008)
 - [東京五輪の汚水問題](https://news.yahoo.co.jp/byline/hashimotojunji/20190814-00138355/)
 - [2020年コロナによる延期](bbc.com/japanese/52020509)  
 
直近の感染者増加、森元首相の発言等で更に東京五輪のイメージは冷え込みそうです。   
Twitterのデータから取得したのでTwitterユーザの特性が反映されるというバイアスを考慮した上でも、東京五輪の印象は右肩下がりのトレンドを持っているようです。   

**けものフレンズ**
<div align="center">
 <img width="700px" src="https://user-images.githubusercontent.com/4949982/107117115-42927680-68bb-11eb-81cc-1b5178bb4f07.png">
</div>

 - [たつき監督の降板](https://ja.wikipedia.org/wiki/%E3%81%91%E3%82%82%E3%81%AE%E3%83%95%E3%83%AC%E3%83%B3%E3%82%BA_(%E3%82%A2%E3%83%8B%E3%83%A1)#%E7%9B%A3%E7%9D%A3%E9%99%8D%E6%9D%BF%E9%A8%92%E5%8B%95)
 - [細谷伸之氏のツイートによる炎上](https://ha-navi.com/wt-57)
 

**テラスハウス**
<div align="center">
 <img width="700px" src="https://user-images.githubusercontent.com/4949982/107117156-9c933c00-68bb-11eb-8657-42dfb7197f1a.png">
</div>

 - [木村花さんの自殺](https://gendai.ismedia.jp/articles/-/72869)  
 
自殺という非常に重い話題のためか、テラスハウスの印象の回復に相当の時間がかかっているように見受けられます。

**くら寿司**
<div align="center">
 <img width="700px" src="https://user-images.githubusercontent.com/4949982/107118094-3827ab00-68c2-11eb-9715-dded32aefbad.png">
</div>

 - [くら寿司バイトテロ](https://brandnew-s.com/2019/02/06/kurazushi2/)  

くら寿司は[バイトテロに対して訴訟を起こし業界の健全化を図ろうとする](https://yukawanet.com/archives/kurazushi-2.html)など、社会的に良い行いを行おうとしています。  
テラスハウスが回復が遅いのに対して、すぐにイメージの回復を行えている等、炎上時の初期対応がいかに重要かがわかります。  

**ドコモ口座問題**
<div align="center">
 <img width="700px" src="https://user-images.githubusercontent.com/4949982/107117309-e6c8ed00-68bc-11eb-9dcc-89a5797296ca.png">
</div>

 - [ドコモ口座問題](https://www.itmedia.co.jp/news/articles/2009/16/news047.html)  
 
この問題の本質は銀行との認証のやり取りに問題があるということでしたが、銀行側のイメージの低下はサービスの低下に比べて、すぐに回復しているようです。  
ドコモ口座の印象は地に落ちた状態になっており、ここから回復するのは至難に見えますが、ドコモさんはサービスを継続するようです

**電通**

<div align="center">
 <img width="700px" src="https://user-images.githubusercontent.com/4949982/107118497-c309a500-68c4-11eb-9c3f-1a4d95fb13bd.png">
</div>

 - [高橋まつりさん過労死事件](https://news.yahoo.co.jp/byline/sasakiryo/20161012-00063150/)
 - [100日後に死ぬワニ炎上事件](https://webronza.asahi.com/national/articles/2020032500001.html)
 
わたしが新卒の頃は電通さんは高給取りでそんなに悪いイメージはなかったのですが、SNS上では年々、電通さんに対してネガティブな投稿が増えているように感じました。  
長期的なトレンドを把握したく例外的に長期間集計したのですが、高橋まつりさんの事件をきっかけに、細かいイメージダウンを伴う炎上を繰り返して、イメージが下降傾向になっています。電通報を一時期鍵垢にするなど説明を果たす立場より、炎上が静まるまで待ってしまった戦略が尾を引いているのではないかと想像してしまいました。

**各政党**

<div align="center">
 <img width="700px" src="https://user-images.githubusercontent.com/4949982/107135199-e0c62100-693b-11eb-9f4c-42ab563290e0.png">
</div>

[NHKの調査](https://www.nhk.or.jp/senkyo/shijiritsu/)によると、最も支持されている正統派自民党であるということになります。  
政党に対する感情と、政党支持率は全く関係していないことが明らかになりました。  

現政権を担う政党であるから最も避難される立場にあるということを考慮しても、支持率と感情が比例していないのは驚きの結果であります。  

**コンビニ各社**

<div align="center">
 <img width="700px" src="https://user-images.githubusercontent.com/4949982/107138475-f0536300-6957-11eb-84da-b3f2a34e26d6.png">
</div>

規模が大きなコンビニでは、セブンが一人抜きん出てイメージが強いですが、セブンペイの不祥事等でイメージが一時的に低下しています。ミニストップやセイコーマートのような規模がそんなに大きくないコンビニはイメージがよいです。

[セイコーマートが顧客満足度で一位](https://www.okinawatimes.co.jp/articles/-/634632#:~:text=%E9%A1%A7%E5%AE%A2%E6%BA%80%E8%B6%B3%E3%82%B9%E3%82%B3%E3%82%A2%E3%81%AE1,%EF%BC%8869.6%EF%BC%89%E3%81%A8%E3%81%AA%E3%81%A3%E3%81%9F%E3%80%82)というデータも有ます。  

## 議論
2020年あたりに発生した主要な炎上事件を見ていきました。  
わかったこととして、炎上が発生するとイメージが低下すること、時間が経つことに多くは回復するが、くら寿司やテスラハウスを見るとその後の対応が影響していそうなことがわかりました。  
サンプル数の関係で定性的な議論の域をまだ超えることができていませんが、今後より多くの事象を観察することで一般的な傾向が判明することができると期待される結果でした。  

政治に関し、実際の政党支持率と感情に関係がない結果になりました。小さい政党ほど熱心なファンを獲得しやすいという傾向があるように見えます。この傾向はコンビニでも同様でした。  
コンビニの各社に対する感情も、売上と感情は比例しません。  


## 結論
企業のイメージと売上との関連を見たいと考えていたのですが、電通さんとの関連以外は、説明するのが難しいと考えました。SNSの影響は年々強いものになっていますが、SNSに影響されない人も相当数存在する社会であり、企業のSNSの炎上のダメージが及ぼす影響はまだ支配的でないと考えます。  

しかし、[SNSの使用時間は年々増加](https://review42.com/resources/how-much-time-do-people-spend-on-social-media/#:~:text=Internet%20users%20spend%20an%20average,to%20be%20on%20social%20media.)し、SNSから受ける印象が企業の売上に影響を与えるということがありえてくるでしょう。  

かんたんな機械学習と統計操作で感情の分析をすることも可能であり、リアルタイムに推論と集計を行うことで炎上検知等にも用いることができそうです。  

何れにせよ、コンプライアンスを遵守し、SDGs等で企業イメージを一定以上に保つというのは、これからの情報化社会を考えると、やっておくべきことなのでしょう。  

## コード管理とデータセットについて
 - [コード](https://github.com/GINK03/past_flaming_and_brand_image)
 - [データセット](https://www.dropbox.com/s/29nvm9x5ua39an1/dataset.zip?dl=0)
